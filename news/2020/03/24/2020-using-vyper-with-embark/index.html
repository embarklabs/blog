<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Using Vyper with Embark | Embark Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://blog.embarklabs.io/news/2020/03/24/2020-using-vyper-with-embark/index.html">
  <!-- Alternative links -->
  

  <!-- Icon -->
  <meta name="msapplication-TileColor" content="#080E1A">
  <link rel="icon" type="image/png" href="/assets/images/favicon-16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="/assets/images/favicon-32.png" sizes="32x32" />

  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-60x60-precomposed.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/apple-touch-icon-76x76-precomposed.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/apple-touch-icon-120x120-precomposed.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/apple-touch-icon-152x152-precomposed.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon-precomposed.png">
  <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-precomposed.png">
  <!-- CSS -->
  
<link rel="stylesheet" href="/css/embark.css">

  <!-- endbuild -->

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="Embark Blog">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/styles/dracula.min.css">

  <script async defer src="https://buttons.github.io/buttons.js"></script>


<script>
  !function(root, factory) {
    "function" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set
    define([], function() {
        return root.svg4everybody = factory();
    }) : "object" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but
    // only CommonJS-like environments that support module.exports,
    // like Node.
    module.exports = factory() : root.svg4everybody = factory();
}(this, function() {
    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */
    function embed(parent, svg, target) {
        // if the target exists
        if (target) {
            // create a document fragment to hold the contents of the target
            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute("viewBox") && target.getAttribute("viewBox");
            // conditionally set the viewBox on the svg
            viewBox && svg.setAttribute("viewBox", viewBox);
            // copy the contents of the clone into the fragment
            for (// clone the target
            var clone = target.cloneNode(!0); clone.childNodes.length; ) {
                fragment.appendChild(clone.firstChild);
            }
            // append the fragment into the svg
            parent.appendChild(fragment);
        }
    }
    function loadreadystatechange(xhr) {
        // listen to changes in the request
        xhr.onreadystatechange = function() {
            // if the request is ready
            if (4 === xhr.readyState) {
                // get the cached html document
                var cachedDocument = xhr._cachedDocument;
                // ensure the cached html document based on the xhr response
                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(""),
                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item
                xhr._embeds.splice(0).map(function(item) {
                    // get the cached target
                    var target = xhr._cachedTarget[item.id];
                    // ensure the cached target
                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)),
                    // embed the target into the svg
                    embed(item.parent, item.svg, target);
                });
            }
        }, // test the ready state change immediately
        xhr.onreadystatechange();
    }
    function svg4everybody(rawopts) {
        function oninterval() {
            // while the index exists in the live <use> collection
            for (// get the cached <use> index
            var index = 0; index < uses.length; ) {
                // get the current <use>
                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute("xlink:href") || use.getAttribute("href");
                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)),
                svg && src) {
                    if (polyfill) {
                        if (!opts.validate || opts.validate(src, svg, use)) {
                            // remove the <use> element
                            parent.removeChild(use);
                            // parse the src and get the url and id
                            var srcSplit = src.split("#"), url = srcSplit.shift(), id = srcSplit.join("#");
                            // if the link is external
                            if (url.length) {
                                // get the cached xhr request
                                var xhr = requests[url];
                                // ensure the xhr request exists
                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open("GET", url), xhr.send(),
                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list
                                xhr._embeds.push({
                                    parent: parent,
                                    svg: svg,
                                    id: id
                                }), // prepare the xhr ready state change event
                                loadreadystatechange(xhr);
                            } else {
                                // embed the local id into the svg
                                embed(parent, svg, document.getElementById(id));
                            }
                        } else {
                            // increase the index when the previous value was not "valid"
                            ++index, ++numberOfSvgUseElementsToBypass;
                        }
                    }
                } else {
                    // increase the index when the previous value was not "valid"
                    ++index;
                }
            }
            // continue the interval
            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);
        }
        var polyfill, opts = Object(rawopts), newerIEUA = /\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/, webkitUA = /\bAppleWebKit\/(\d+)\b/, olderEdgeUA = /\bEdge\/12\.(\d+)\b/, edgeUA = /\bEdge\/.(\d+)\b/, inIframe = window.top !== window.self;
        polyfill = "polyfill" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;
        // create xhr requests object
        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName("use"), numberOfSvgUseElementsToBypass = 0;
        // conditionally start the interval if the polyfill is active
        polyfill && oninterval();
    }
    function getSVGAncestor(node) {
        for (var svg = node; "svg" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}
        return svg;
    }
    return svg4everybody;
});

svg4everybody();
</script>
<meta name="description" content="Why Vyper?Vyper is a contract-based approach to writing Ethereum smart contracts and is aimed at bringing “increased security and readability through a minimalist approach” to the smart contract land">
<meta property="og:type" content="article">
<meta property="og:title" content="Using Vyper with Embark">
<meta property="og:url" content="https://blog.embarklabs.io/news/2020/03/24/2020-using-vyper-with-embark/index.html">
<meta property="og:site_name" content="Embark Blog">
<meta property="og:description" content="Why Vyper?Vyper is a contract-based approach to writing Ethereum smart contracts and is aimed at bringing “increased security and readability through a minimalist approach” to the smart contract land">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog.embarklabs.io/assets/images/vyper_simple_storage_with_logo.png">
<meta property="og:image" content="https://blog.embarklabs.io/assets/images/vyper_Cockpit-with-Vyper-contract.png">
<meta property="og:image" content="https://blog.embarklabs.io/assets/images/vyper_SimpleStorage-Vyper-contract-in-Cockpit.png">
<meta property="og:image" content="https://blog.embarklabs.io/assets/images/vyper_SimpleStorage-set-value-to-999.png">
<meta property="og:image" content="https://blog.embarklabs.io/assets/images/vyper_SimpleStorage-set-result.png">
<meta property="article:published_time" content="2020-03-23T23:00:00.000Z">
<meta property="article:modified_time" content="2020-06-15T08:04:44.203Z">
<meta property="article:author" content="Embark">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.embarklabs.io/assets/images/vyper_simple_storage_with_logo.png">
</head>

  <body>

    <header role="banner" class="c-header c-header--compact">
  <div class="o-container">
    <div class="c-header__top">
      <a href="https://embarklabs.io" title="Embark" class="c-logo c-logo--negative">Embark</a>
      <nav role="navigation" class="c-navigation">
        <div class="c-navigation__header">
          <a href="https://embarklabs.io" title="Embark" class="c-logo">Embark</a>
          <button class="c-navigation__close u-text-light" title="Close menu">
            <svg class="c-icon c-icon--xs"><use xlink:href="/../assets/icons/symbols.svg#icon-close"></use></svg>
          </button>
        </div>
        <div class="c-navigation__body" style="">
          <ul class="c-navigation__list">
            <li class="c-navigation__item">
              <a href="https://blog.embarklabs.io" class="c-navigation__anchor" title="Blog">Blog</a>
            </li>
            <li class="c-navigation__item">
              <a href="https://framework.embarklabs.io" class="c-navigation__anchor" title="Embark Framework">Embark</a>
            </li>
            <li class="c-navigation__item">
              <a href="https://subspace.embarklabs.io" class="c-navigation__anchor" title="Subspace">Subspace</a>
            </li>
            <li class="c-navigation__item">
              <a href="https://framework.embarklabs.io/docs/cockpit_introduction.html" class="c-navigation__anchor" title="Cockpit">Cockpit</a>
            </li>
          </ul>
        </div>
      </nav>
      <div class="o-flex o-flex-center">
        <form action="" class="o-flex__item u-hidden-until-large" style="">
          <input type="search" placeholder="Search" id="search-input">
        </form>
        <div class="o-flex__item">
          <ul class="o-flex o-flex-center">
            <li class="o-flex__item">
              <a href="https://github.com/embarklabs/embark" title="Github" target="_blank" class="u-link-ghost">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-github"></use></svg>
              </a>
            </li>
            <li class="o-flex__item">
              <a href="https://twitter.com/EmbarkProject" title="Twitter" target="_blank">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-twitter"></use></svg>
              </a>
            </li>
            <li class="o-flex__item u-hidden-large-up">
              <button type="button"class="c-navigation__trigger u-link-ghost" title="Open menu">
                <svg class="c-icon"><use xlink:href="/../assets/icons/symbols.svg#icon-navigation-menu"></use></svg>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="c-quick-search o-distance-m u-hidden-large-up">
      <input type="search" id="inp-search" placeholder="Search">
    </div>
  </div>
  <div class="o-container">
    <div class="c-header__body">
      <h1 class="c-title u-text-ghost">Using Vyper with Embark</h1>
      
      <div class="o-distance-m">
        <div class="o-flex o-flex-center">
          <span class="o-flex__item">
            <img src="https://avatars1.githubusercontent.com/u/5089238?s=460&v=4" class="c-avatar-small" alt="author picture">
          </span>
          <p class="o-flex__item">
            Written by <a href="https://twitter.com/ericmastro" title="Eric Mastro on Twitter">Eric Mastro</a> on the <time class="u-text-ghost">24th March 2020</time>
          </p>
        </div>
      </div>
      

      

      
      
    </div>
  </div>
</header>


<main role="main" class="o-standard-page">
  <section class="o-container o-distance">
    <p><img src="/assets/images/vyper_simple_storage_with_logo.png" alt="Vyper Language"></p>
<h2 id="Why-Vyper"><a href="#Why-Vyper" class="headerlink" title="Why Vyper?"></a>Why Vyper?</h2><p><a href="https://github.com/vyperlang/vyper">Vyper</a> is a contract-based approach to writing Ethereum smart contracts and is aimed at bringing <a href="https://ethereumdevelop.com/ethereum-solidity-vyper/">“increased security and readability through a minimalist approach”</a> to the smart contract landscape.</p>
<p>Although Vyper has gained some popularity in recent times as a security-focused alternative to Solidity, the simplicity required for such a case <a href="https://ethereumdevelop.com/ethereum-solidity-vyper/">leaves out some features of Solidity</a> that developers have come to appreciate.</p>
<p>In its current form, Vyper is python-based, but due to the <a href="https://diligence.consensys.net/audits/2019/10/vyper/">Consensys audit highlighting some major security flaws</a>, the Ethereum Foundation has decided to concurrently build a <a href="https://github.com/ethereum/rust-vyper">Rust-based Vyper</a>, while community devs aim to support the original Python-based version.</p>
<div class="c-notification c-notification--danger">
  <p><strong>Using Vyper in production</strong></p>
  <p><p>Because of the inherent security flaws, please <strong>do not</strong> use Python-based Vyper in production projects until the <a href="https://github.com/vyperlang/vyper">vyperlang team</a> has created a production-ready release. Embark will also support Rust-based Vyper once it is released.</p>
</p>
</div> 



<p>Irrespective of the security audit, Vyper is perhaps the <a href="https://www.publish0x.com/rhyzom/vyper-compiler-security-audit-and-developing-a-new-rust-base-xxpygm">most intuitive and easiest to quickly learn language</a> for reading and writing Etheruem contracts - even without any prior knowledge or experience in programming. Additionally, Embark has created a plugin that makes it just as easy to compile Vyper contracts in an Embark &ETH;App!</p>
<p>Let’s see just how easy this is!</p>
<ol>
<li><a href="#Step-1-Prerequisites">Prerequisites</a></li>
<li><a href="#Step-2-Create-a-ETH-App">Create a &ETH;App</a></li>
<li><a href="#Step-3-Install-the-Embark-Vyper-plugin">Install the Embark Vyper plugin</a></li>
<li><a href="#Step-4-Add-a-Vyper-contract-to-your-ETH-App">Add a Vyper contract to your &ETH;App</a></li>
<li><a href="#Step-5-Run-Embark">Run Embark</a></li>
<li><a href="#Step-6-Interact-with-your-contract-in-Cockpit">Interact with your contract in Cockpit</a></li>
</ol>
<h2 id="Step-1-Prerequisites"><a href="#Step-1-Prerequisites" class="headerlink" title="Step 1. Prerequisites"></a>Step 1. Prerequisites</h2><p>Before we can write our first Vyper contract, let’s take care of a few requirements.</p>
<h3 id="Install-Embark"><a href="#Install-Embark" class="headerlink" title="Install Embark"></a>Install Embark</h3><p><a href="https://framework.embarklabs.io/docs/installation.html">Install Embark</a> either globally or as a package in your &ETH;App. The most simple way forward is to install Embark globally on your system:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn global add embark</span><br><span class="line"># OR</span><br><span class="line">npm i -g embark</span><br></pre></td></tr></table></figure>

<p>The rest of this article will assume you have Embark installed globally, and therefore available from the CLI.</p>
<h3 id="Install-Vyper"><a href="#Install-Vyper" class="headerlink" title="Install Vyper"></a>Install Vyper</h3><p>If you haven’t already done so, make sure to <a href="https://vyper.readthedocs.io/en/latest/installing-vyper.html">install Vyper</a>. As the documentation recommends, be sure to <a href="https://vyper.readthedocs.io/en/latest/installing-vyper.html#creating-a-virtual-environment">use a Python virtual environment when installing Vyper</a>, as it will keep your system-wide packages from being polluted.</p>
<h2 id="Step-2-Create-a-ETH-App"><a href="#Step-2-Create-a-ETH-App" class="headerlink" title="Step 2. Create a &ETH;App"></a>Step 2. Create a &ETH;App</h2><p>For this article, we will be creating a demo &ETH;App to use as a base for creating our first Vyper contract. However, if you already have a &ETH;App that you’d like to add Vyper contracts to, simply skip this step.</p>
<p>Creating an Embark demo is easy, simply run the following commands:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">embark demo</span><br><span class="line">cd embark_demo</span><br></pre></td></tr></table></figure>

<h2 id="Step-3-Install-the-Embark-Vyper-plugin"><a href="#Step-3-Install-the-Embark-Vyper-plugin" class="headerlink" title="Step 3. Install the Embark Vyper plugin"></a>Step 3. Install the Embark Vyper plugin</h2><p>Installing the <a href="https://github.com/embarklabs/embark/blob/master/packages/plugins/vyper/README.md">Embark Vyper</a> plugin in our &ETH;App is extremely simple:</p>
<ol>
<li>Add the <code>embark-vyper</code> package to your &ETH;App:<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add embark-vyper</span><br><span class="line"># OR</span><br><span class="line">npm i embark-vyper --save</span><br></pre></td></tr></table></figure></li>
<li>Add the <code>embark-vyper</code> plugin to <code>embark.json</code>:<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; embark.json</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ...</span><br><span class="line">&quot;plugins&quot;: &#123;</span><br><span class="line">  &quot;embark-ipfs&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-swarm&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-whisper-geth&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-geth&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-parity&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-profiler&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-graph&quot;: &#123;&#125;,</span><br><span class="line">  &quot;embark-vyper&quot;: &#123;&#125; &#x2F;&#x2F; &lt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; add this!</span><br><span class="line">&#125;,</span><br><span class="line">&#x2F;&#x2F; ...</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Step-4-Add-a-Vyper-contract-to-your-ETH-App"><a href="#Step-4-Add-a-Vyper-contract-to-your-ETH-App" class="headerlink" title="Step 4. Add a Vyper contract to your &ETH;App"></a>Step 4. Add a Vyper contract to your &ETH;App</h2><p>First, let’s delete the <code>SimpleStorage</code> Solidity contract that comes with the Embark Demo by default:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rm contracts&#x2F;simple_storage.sol</span><br></pre></td></tr></table></figure>
<p>Next, let’s create a Vyper contract in the <code>contracts</code> folder of our &ETH;App, ie <code>contract/SimpleStorage.vy</code> (case is important):</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># contracts&#x2F;SimpleStorage.vy</span><br><span class="line"></span><br><span class="line">storedData: public(int128)</span><br><span class="line"></span><br><span class="line">@public</span><br><span class="line">def __init__(_x: int128):</span><br><span class="line">  self.storedData &#x3D; _x</span><br><span class="line"></span><br><span class="line">@public</span><br><span class="line">def set(_x: int128):</span><br><span class="line">  self.storedData &#x3D; _x</span><br></pre></td></tr></table></figure>
<p>The function of this contract is simple: upon creation (deployment), it will store the value we initially give it during deployment. We also have access to a <code>set()</code> that will allow to set the value stored in the contract.</p>
<h3 id="Changing-the-contract-filename"><a href="#Changing-the-contract-filename" class="headerlink" title="Changing the contract filename"></a>Changing the contract filename</h3><p>Because Vyper’s constructor is called <code>__init__</code>, Embark must take the contract class name from the file name. If you’d prefer to change the name of your contract file to something else like <code>contracts/simple_storage.vy</code>, you’ll need to update <code>config/contract.js</code> to allow Embark to match a contract configuration to a contract file:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; config&#x2F;contracts.js</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  default: &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">    deploy: &#123;</span><br><span class="line">      simple_storage: &#123; &#x2F;&#x2F; NOTE: this only needs to be changed if the contract filename was changed</span><br><span class="line">        fromIndex: 0,</span><br><span class="line">        args: [100]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Please see the Embark <a href="https://framework.embarklabs.io/docs/contracts_configuration.html">smart contract configuration documentation</a> for more information on how to configure contracts in Embark.</p>
<h2 id="Step-5-Run-Embark"><a href="#Step-5-Run-Embark" class="headerlink" title="Step 5. Run Embark"></a>Step 5. Run Embark</h2><p>Now that we have installed and configured everything, let’s run Embark and watch the magic!</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">embark run --nodashboard --nobrowser</span><br></pre></td></tr></table></figure>
<p>Assuming we kept the file name <code>SimpleStorage.vy</code> from step 4, we should see the following output in the console:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">compiling Vyper contracts...</span><br><span class="line">deploying contracts</span><br><span class="line">Deploying SimpleStorage with 144379 gas at the price of 2000000000 Wei. Estimated cost: 288758000000000 Wei  (txHash: 0x370a864b12b1785b17180b2a10ec2f941a15638eeffadfecf5bbe68755a06f14)</span><br><span class="line">SimpleStorage deployed at 0x5Baf4D88bC454537C51CEC7568a1E23400483abc using 135456 gas (txHash: 0x370a864b12b1785b17180b2a10ec2f941a15638eeffadfecf5bbe68755a06f14)</span><br></pre></td></tr></table></figure>

<h3 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h3><p>There are a few common issues you may experience when Embark attempts to compile and deploy your Vyper contracts.</p>
<h4 id="Vyper-is-not-installed-on-your-machine"><a href="#Vyper-is-not-installed-on-your-machine" class="headerlink" title="Vyper is not installed on your machine"></a>Vyper is not installed on your machine</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vyper is not installed on your machine</span><br><span class="line">You can install it by visiting: https:&#x2F;&#x2F;vyper.readthedocs.io&#x2F;en&#x2F;latest&#x2F;installing-vyper.html</span><br></pre></td></tr></table></figure>
<p>This means that the binary <code>vyper</code> cannot be found on your machine. If you’re running *nix, you can verify this by running:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">which vyper</span><br><span class="line"># expected output: path&#x2F;to&#x2F;virtual-env&#x2F;bin&#x2F;vyper</span><br><span class="line"># actual output: vyper not found</span><br></pre></td></tr></table></figure>
<p>If <code>vyper</code> was <a href="https://vyper.readthedocs.io/en/latest/installing-vyper.html#creating-a-virtual-environment">installed in a virtual environment</a>, you may have forgotten to activate the environment, ie:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source path&#x2F;to&#x2F;vyper-env&#x2F;bin&#x2F;activate</span><br></pre></td></tr></table></figure>
<p>If <code>vyper</code> was not installed in a virual environment, it most likely means your <code>PATH</code> environment variable needs to be updated to point to the directory where the <code>vyper</code> binary is installed. You can inspect your <code>PATH</code> environment variable by:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo $PATH</span><br></pre></td></tr></table></figure>
<p>And update it with the path to <em>the directory containing</em> the <code>vyper</code> binary using:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;&#x2F;path&#x2F;to&#x2F;vyper&#x2F;dir:$PATH</span><br></pre></td></tr></table></figure>

<h4 id="Error-deploying-contract"><a href="#Error-deploying-contract" class="headerlink" title="Error deploying contract"></a>Error deploying contract</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SimpleStorage has no code associated</span><br><span class="line">did you mean &quot;simple_storage&quot;?</span><br><span class="line">deploying contracts</span><br><span class="line">Error deploying contract simple_storage</span><br><span class="line">[simple_storage]: Invalid number of parameters for &quot;constructor&quot;. Got 0 expected 1!</span><br><span class="line">Error deploying contracts. Please fix errors to continue.</span><br></pre></td></tr></table></figure>
<p>This means that the contract <code>simple_storage</code> is a file in <code>contracts/</code> and expected to be deployed by Embark, but is not configured for deploy in the contracts configuration. This could be the result of changing the filename of the Vyper contract to <code>simple_storage.vy</code>, but not updating the contracts configuration, as outlined in <a href="#Changing-the-contract-filename">step 4</a>.</p>
<h2 id="Step-6-Interact-with-your-contract-in-Cockpit"><a href="#Step-6-Interact-with-your-contract-in-Cockpit" class="headerlink" title="Step 6. Interact with your contract in Cockpit"></a>Step 6. Interact with your contract in Cockpit</h2><p>Given that the Vyper contract has the same functionality as the <code>SimpleStorage.sol</code> that ships with the default Embark demo, we could still run the Demo application and view that its functionality works as expected. However, an even easier approach to interacting with our deployed Vyper contract is to use Cockpit.</p>
<p>In your browser, open Cockpit using the link provided in the console, ie <code>http://localhost:55555?token=&lt;token from console&gt;</code> NOTE: the <code>token</code> parameter is provided in the Embark console once Embark has finished building pipeline files. This token can be copied to the clipboard by typing <code>token</code> in the console command prompt.</p>
<p><img src="/assets/images/vyper_Cockpit-with-Vyper-contract.png" alt="Cockpit with Vyper contract"></p>
<p>At the bottom, you should see your <code>SimpleStorage</code> contract. Click the name of the contract to open the interaction view:</p>
<p><img src="/assets/images/vyper_SimpleStorage-Vyper-contract-in-Cockpit.png" alt="SimpleStorage vyper contract in Cockpit"></p>
<p>Expand the <code>set</code> method interaction by clicking the <code>set</code> header. Enter a value to set the <code>storedData</code> variable in the contract to, ie <code>999</code>:</p>
<p><img src="/assets/images/vyper_SimpleStorage-set-value-to-999.png" alt="SimpleStorage set value to 999"></p>
<p>Then click “Send”. You should see the inputs and the resulting transaction hash:</p>
<p><img src="/assets/images/vyper_SimpleStorage-set-result.png" alt="SimpleStorage set result"></p>
<p>Additionally, you should see the transaction printed in Embark’s console:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Blockchain&gt; SimpleStorage.set(999) | 0x71a9341fc8d52e53e11692b642b806a41da7aa8ed2b3ed6a975314639a131d32 | gas:26447 | blk:14 | status:0x1</span><br></pre></td></tr></table></figure>

<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Vyper is proving to be a useful language for writing secure smart contracts. While the latest security audit is looming, the EF is working on a Rust-based implementation that will hopefully propel Vyper towards its goals of being a security-centric, simplistic smart contract language.</p>
<p>In the meantime, we can use Embark to write and deploy our Vyper contracts using the <a href="https://github.com/embarklabs/embark/blob/master/packages/plugins/vyper/README.md">Embark Vyper</a> plugin.</p>

  </section>

  

  <div class="o-container o-distance">
    <div class="o-flex o-flex-space-between">
  
  <div class="o-flex__item">
    <a href="/news/2020/03/18/subspace-2.0/" class="c-button c-button--quite" title="Previous article">Previous</a>
  </div>
  
  
  <div class="o-flex__item">
    <a href="/news/2020/04/02/2020-smart-contract-security-analysis-with-mythx/" class="c-button c-button--quite" title="Next article">Next</a>
  </div>
  
</div>


  </div>
  
</main>


    <footer role="contentinfo" class="c-footer o-distance-xxl">
  <div class="o-container">
    <div class="c-footer__top">
      <p class="c-category-title c-footer__top__title u-text-light">
        <a href="/" class="c-logo c-logo--negative" title="Embark">Embark</a>
      </p>
    </div>
    <div class="c-footer__body">

      <div class="o-grid">
        <div class="o-grid__column--1-1 o-grid__column--medium-1-2 o-grid__column--large-1-6">
          <p class="c-category-title u-text-light">The Status Network</p>
          <ul class="o-list-bare six-columns">
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://status.im/" target="_blank">Status</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://keycard.tech/" target="_blank">Keycard</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://dap.ps/" target="_blank">dap.ps</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://framework.embarklabs.io/" target="_blank">Embark</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://subspace.status.im/" target="_blank">Subspace</a></li>
            <li class="o-list-bare__item"><a class="u-link-ghost" href="https://vac.dev/" target="_blank">Vac</a></li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="c-footer__bottom">
      <p class="u-text-light">
        <a href="https://status.im/privacy-policy.html" title="Privacy Policy" target="_blank" class="u-text-light">Privacy Policy</a>
        / © 2020 Embark
      </p>
    </div>
  </div>
</footer>




    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.4/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script>
      const EMBARK_DOC_VERSIONS = {
        
      };
    </script>

    

    <script src="/js/index.js"></script>

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript">
      docsearch({
        apiKey: '439d8dc2add18007a2f31be4a9c0ed70',
        indexName: 'embark',
        inputSelector: '#search-input'
      });
    </script>
    
  </body>
</html>

